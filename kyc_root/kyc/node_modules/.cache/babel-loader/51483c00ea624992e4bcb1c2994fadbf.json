{"ast":null,"code":"var _jsxFileName = \"/home/anoop/Documents/major/kyc_root/kyc/src/components/bank_home/ModifyCustomer.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport Kycabi from \"../../contracts/kyc.json\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ModifyCustomer(props) {\n  _s();\n\n  const web3 = window.web3;\n  const acc = web3.currentProvider.selectedAddress;\n  const [user, setUser] = useState({\n    username: props.CustomerDetails[0],\n    firstName: props.CustomerDetails[1],\n    lastName: props.CustomerDetails[2],\n    dob: props.CustomerDetails[3],\n    phone: props.CustomerDetails[4],\n    email: props.CustomerDetails[5],\n    address: props.CustomerDetails[6],\n    aadharNo: props.CustomerDetails[7],\n    panNo: props.CustomerDetails[8]\n  });\n\n  function getInfo() {\n    var data = user.username + \"!@#\" + user.firstName + \"!@#\" + user.lastName + \"!@#\" + user.dob + \"!@#\" + user.phone + \"!@#\" + user.email + \"!@#\" + user.address + \"!@#\" + user.aadharNo + \"!@#\" + user.panNo + \"!@#\";\n    return data;\n  }\n\n  let name, value;\n\n  const getUserData = event => {\n    name = event.target.name;\n    value = event.target.value;\n    setUser({ ...user,\n      [name]: value\n    });\n  };\n\n  const onClickModify = async event => {\n    const networkId = await web3.eth.net.getId();\n    const networkData = Kycabi.networks[networkId];\n    const kyc = new web3.eth.Contract(Kycabi.abi, networkData.address);\n    event.preventDefault();\n    let active = await kyc.methods.getBankActiveAddress().call({\n      from: acc,\n      gas: 4700000\n    });\n\n    if (active.toUpperCase() != acc.toUpperCase()) {\n      window.alert(`Your account is ${active} but selected account is ${acc}`);\n      return;\n    }\n\n    await kyc.methods.modifyCustomer(user.username, getInfo()).send({\n      from: acc,\n      gas: 4700000\n    });\n    let a = await kyc.methods.getEventFlag().call();\n    console.log(a);\n    if (a == 7) window.alert(\"Access denied!\");else if (a == 0) {\n      window.alert(\"Customer data modified!\");\n      setSubmitted(true);\n    }\n  };\n\n  const [submitted, setSubmitted] = useState(false);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    class: \"form-container register-form\",\n    children: [submitted ? /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"success-message\",\n      children: \"Success! Thank you for registering\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 9\n    }, this) : null, /*#__PURE__*/_jsxDEV(\"input\", {\n      value: user.username,\n      id: \"user-name\",\n      class: \"form-field\",\n      type: \"text\",\n      placeholder: \"Username\",\n      name: \"username\",\n      readonly: \"readonly\",\n      onChange: getUserData\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      value: user.firstName,\n      id: \"first-name\",\n      class: \"form-field\",\n      type: \"text\",\n      placeholder: \"First Name\",\n      name: \"firstName\",\n      onChange: getUserData\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      value: user.lastName,\n      id: \"last-name\",\n      class: \"form-field\",\n      type: \"text\",\n      placeholder: \"Last Name\",\n      name: \"lastName\",\n      onChange: getUserData\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      value: user.dob,\n      id: \"dob\",\n      class: \"form-field\",\n      type: \"text\",\n      placeholder: \"DOB\",\n      name: \"dob\",\n      onChange: getUserData\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      value: user.phone,\n      id: \"phone\",\n      class: \"form-field\",\n      type: \"number\",\n      placeholder: \"Phone\",\n      name: \"phone\",\n      onChange: getUserData\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      value: user.email,\n      id: \"email\",\n      class: \"form-field\",\n      type: \"email\",\n      placeholder: \"Email\",\n      name: \"email\",\n      onChange: getUserData\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      value: user.address,\n      id: \"address\",\n      class: \"form-field\",\n      type: \"text\",\n      placeholder: \"address\",\n      name: \"address\",\n      onChange: getUserData\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      value: user.aadharNo,\n      id: \"aadharNo\",\n      class: \"form-field\",\n      type: \"number\",\n      placeholder: \"Aadhar Number\",\n      name: \"aadharNo\",\n      onChange: getUserData\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      value: user.panNo,\n      id: \"panNo\",\n      class: \"form-field\",\n      type: \"text\",\n      placeholder: \"PAN number\",\n      name: \"panNo\",\n      onChange: getUserData\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      class: \"form-field\",\n      type: \"submit\",\n      onClick: onClickModify,\n      children: \"Confirm\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 87,\n    columnNumber: 5\n  }, this);\n}\n\n_s(ModifyCustomer, \"Z/IHMhHMsHEclHCI2ms8Y6JOBv0=\");\n\n_c = ModifyCustomer;\n\nvar _c;\n\n$RefreshReg$(_c, \"ModifyCustomer\");","map":{"version":3,"names":["React","useState","Kycabi","ModifyCustomer","props","web3","window","acc","currentProvider","selectedAddress","user","setUser","username","CustomerDetails","firstName","lastName","dob","phone","email","address","aadharNo","panNo","getInfo","data","name","value","getUserData","event","target","onClickModify","networkId","eth","net","getId","networkData","networks","kyc","Contract","abi","preventDefault","active","methods","getBankActiveAddress","call","from","gas","toUpperCase","alert","modifyCustomer","send","a","getEventFlag","console","log","setSubmitted","submitted"],"sources":["/home/anoop/Documents/major/kyc_root/kyc/src/components/bank_home/ModifyCustomer.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport Kycabi from \"../../contracts/kyc.json\";\n\nexport default function ModifyCustomer(props) {\n  const web3 = window.web3;\n  const acc = web3.currentProvider.selectedAddress;\n  const [user, setUser] = useState({\n    username: props.CustomerDetails[0],\n    firstName: props.CustomerDetails[1],\n    lastName: props.CustomerDetails[2],\n    dob: props.CustomerDetails[3],\n    phone: props.CustomerDetails[4],\n    email: props.CustomerDetails[5],\n    address: props.CustomerDetails[6],\n    aadharNo: props.CustomerDetails[7],\n    panNo: props.CustomerDetails[8],\n  });\n\n  function getInfo() {\n    var data =\n      user.username +\n      \"!@#\" +\n      user.firstName +\n      \"!@#\" +\n      user.lastName +\n      \"!@#\" +\n      user.dob +\n      \"!@#\" +\n      user.phone +\n      \"!@#\" +\n      user.email +\n      \"!@#\" +\n      user.address +\n      \"!@#\" +\n      user.aadharNo +\n      \"!@#\" +\n      user.panNo +\n      \"!@#\";\n    return data;\n  }\n\n  let name, value;\n  const getUserData = (event) => {\n    name = event.target.name;\n    value = event.target.value;\n\n    setUser({\n      ...user,\n      [name]: value,\n    });\n  };\n\n  const onClickModify = async (event) => {\n    const networkId = await web3.eth.net.getId();\n    const networkData = Kycabi.networks[networkId];\n    const kyc = new web3.eth.Contract(Kycabi.abi, networkData.address);\n    event.preventDefault();\n\n    let active = await kyc.methods.getBankActiveAddress().call({\n      from: acc,\n      gas: 4700000,\n    });\n\n    if (active.toUpperCase() != acc.toUpperCase()) {\n      window.alert(`Your account is ${active} but selected account is ${acc}`);\n      return;\n    }\n\n    await kyc.methods.modifyCustomer(user.username, getInfo()).send({\n      from: acc,\n      gas: 4700000,\n    });\n\n    let a = await kyc.methods.getEventFlag().call();\n\n    console.log(a);\n    if (a == 7) window.alert(\"Access denied!\");\n    else if (a == 0) {\n      window.alert(\"Customer data modified!\");\n      setSubmitted(true);\n    }\n  };\n\n  const [submitted, setSubmitted] = useState(false);\n\n  return (\n    <div class=\"form-container register-form\">\n      {submitted ? (\n        <div class=\"success-message\">Success! Thank you for registering</div>\n      ) : null}\n      <input\n        value={user.username}\n        id=\"user-name\"\n        class=\"form-field\"\n        type=\"text\"\n        placeholder=\"Username\"\n        name=\"username\"\n        readonly=\"readonly\"\n        onChange={getUserData}\n      />\n      <input\n        value={user.firstName}\n        id=\"first-name\"\n        class=\"form-field\"\n        type=\"text\"\n        placeholder=\"First Name\"\n        name=\"firstName\"\n        onChange={getUserData}\n      />\n      <input\n        value={user.lastName}\n        id=\"last-name\"\n        class=\"form-field\"\n        type=\"text\"\n        placeholder=\"Last Name\"\n        name=\"lastName\"\n        onChange={getUserData}\n      />\n      <input\n        value={user.dob}\n        id=\"dob\"\n        class=\"form-field\"\n        type=\"text\"\n        placeholder=\"DOB\"\n        name=\"dob\"\n        onChange={getUserData}\n      />\n      <input\n        value={user.phone}\n        id=\"phone\"\n        class=\"form-field\"\n        type=\"number\"\n        placeholder=\"Phone\"\n        name=\"phone\"\n        onChange={getUserData}\n      />\n      <input\n        value={user.email}\n        id=\"email\"\n        class=\"form-field\"\n        type=\"email\"\n        placeholder=\"Email\"\n        name=\"email\"\n        onChange={getUserData}\n      />\n      <input\n        value={user.address}\n        id=\"address\"\n        class=\"form-field\"\n        type=\"text\"\n        placeholder=\"address\"\n        name=\"address\"\n        onChange={getUserData}\n      />\n      <input\n        value={user.aadharNo}\n        id=\"aadharNo\"\n        class=\"form-field\"\n        type=\"number\"\n        placeholder=\"Aadhar Number\"\n        name=\"aadharNo\"\n        onChange={getUserData}\n      />\n      <input\n        value={user.panNo}\n        id=\"panNo\"\n        class=\"form-field\"\n        type=\"text\"\n        placeholder=\"PAN number\"\n        name=\"panNo\"\n        onChange={getUserData}\n      />\n      <button class=\"form-field\" type=\"submit\" onClick={onClickModify}>\n        Confirm\n      </button>\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}