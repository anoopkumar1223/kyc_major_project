{"ast":null,"code":"var _jsxFileName = \"/home/anoop/Documents/major/kyc_root/kyc/src/components/bank_home/view_kyc.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport ViewCustomer from \"./ViewCustomer\";\nimport Kycabi from \"../../contracts/kyc.json\";\nimport \"./bank_home.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction ViewKyc() {\n  _s();\n\n  const [customerDetails, updatecustomerDetails] = useState(\"\");\n  const [username, updateUsername] = useState(\"\");\n  const [permission, updatePermission] = useState(false);\n  const web3 = window.web3;\n  const acc = web3.currentProvider.selectedAddress;\n\n  const handleOnSubmit = async event => {\n    event.preventDefault();\n    const networkId = await web3.eth.net.getId();\n    const networkData = Kycabi.networks[networkId];\n    const kyc = new web3.eth.Contract(Kycabi.abi, networkData.address);\n    let a = await kyc.methods.viewCustomer(username).call({\n      from: acc,\n      gas: 4700000\n    });\n\n    if (a == \"\") {\n      window.alert(\"Customer data not found\");\n      return;\n    } else {\n      updatecustomerDetails(a.split(\"!@#\"));\n      updatePermission(true);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      style: {\n        marginLeft: \"20px\"\n      },\n      children: \"VIEW KYC\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this), !permission ? /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"form-container register-form\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"username\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          class: \"form-field\",\n          id: \"username\",\n          placeholder: \"Enter username to search\",\n          type: \"text\",\n          value: username,\n          onChange: e => updateUsername(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        class: \"form-field\",\n        type: \"submit\",\n        onClick: handleOnSubmit,\n        children: \"Search\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(ViewCustomer, {\n      CustomerDetails: customerDetails\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 5\n  }, this);\n}\n\n_s(ViewKyc, \"LADj1tsYSNAGDksau2RFRhFkc0M=\");\n\n_c = ViewKyc;\nexport default ViewKyc;\n\nvar _c;\n\n$RefreshReg$(_c, \"ViewKyc\");","map":{"version":3,"names":["React","useState","ViewCustomer","Kycabi","ViewKyc","customerDetails","updatecustomerDetails","username","updateUsername","permission","updatePermission","web3","window","acc","currentProvider","selectedAddress","handleOnSubmit","event","preventDefault","networkId","eth","net","getId","networkData","networks","kyc","Contract","abi","address","a","methods","viewCustomer","call","from","gas","alert","split","marginLeft","e","target","value"],"sources":["/home/anoop/Documents/major/kyc_root/kyc/src/components/bank_home/view_kyc.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport ViewCustomer from \"./ViewCustomer\";\nimport Kycabi from \"../../contracts/kyc.json\";\nimport \"./bank_home.css\";\n\nfunction ViewKyc() {\n  const [customerDetails, updatecustomerDetails] = useState(\"\");\n\n  const [username, updateUsername] = useState(\"\");\n  const [permission, updatePermission] = useState(false);\n  const web3 = window.web3;\n  const acc = web3.currentProvider.selectedAddress;\n\n  const handleOnSubmit = async (event) => {\n    event.preventDefault();\n    const networkId = await web3.eth.net.getId();\n    const networkData = Kycabi.networks[networkId];\n    const kyc = new web3.eth.Contract(Kycabi.abi, networkData.address);\n\n    let a = await kyc.methods\n      .viewCustomer(username)\n      .call({ from: acc, gas: 4700000 });\n    if (a == \"\") {\n      window.alert(\"Customer data not found\");\n      return;\n    } else {\n      updatecustomerDetails(a.split(\"!@#\"));\n      updatePermission(true);\n    }\n  };\n\n  return (\n    <div>\n      <br />\n      <h1\n        style={{\n          marginLeft: \"20px\",\n        }}\n      >\n        VIEW KYC\n      </h1>\n      <br />\n      {!permission ? (\n        <div class=\"form-container register-form\">\n          <label htmlFor=\"username\">\n            <input\n              class=\"form-field\"\n              id=\"username\"\n              placeholder=\"Enter username to search\"\n              type=\"text\"\n              value={username}\n              onChange={(e) => updateUsername(e.target.value)}\n            />\n          </label>\n\n          <button class=\"form-field\" type=\"submit\" onClick={handleOnSubmit}>\n            Search\n          </button>\n        </div>\n      ) : (\n        <ViewCustomer CustomerDetails={customerDetails} />\n      )}\n    </div>\n  );\n}\n\nexport default ViewKyc;\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAO,iBAAP;;;AAEA,SAASC,OAAT,GAAmB;EAAA;;EACjB,MAAM,CAACC,eAAD,EAAkBC,qBAAlB,IAA2CL,QAAQ,CAAC,EAAD,CAAzD;EAEA,MAAM,CAACM,QAAD,EAAWC,cAAX,IAA6BP,QAAQ,CAAC,EAAD,CAA3C;EACA,MAAM,CAACQ,UAAD,EAAaC,gBAAb,IAAiCT,QAAQ,CAAC,KAAD,CAA/C;EACA,MAAMU,IAAI,GAAGC,MAAM,CAACD,IAApB;EACA,MAAME,GAAG,GAAGF,IAAI,CAACG,eAAL,CAAqBC,eAAjC;;EAEA,MAAMC,cAAc,GAAG,MAAOC,KAAP,IAAiB;IACtCA,KAAK,CAACC,cAAN;IACA,MAAMC,SAAS,GAAG,MAAMR,IAAI,CAACS,GAAL,CAASC,GAAT,CAAaC,KAAb,EAAxB;IACA,MAAMC,WAAW,GAAGpB,MAAM,CAACqB,QAAP,CAAgBL,SAAhB,CAApB;IACA,MAAMM,GAAG,GAAG,IAAId,IAAI,CAACS,GAAL,CAASM,QAAb,CAAsBvB,MAAM,CAACwB,GAA7B,EAAkCJ,WAAW,CAACK,OAA9C,CAAZ;IAEA,IAAIC,CAAC,GAAG,MAAMJ,GAAG,CAACK,OAAJ,CACXC,YADW,CACExB,QADF,EAEXyB,IAFW,CAEN;MAAEC,IAAI,EAAEpB,GAAR;MAAaqB,GAAG,EAAE;IAAlB,CAFM,CAAd;;IAGA,IAAIL,CAAC,IAAI,EAAT,EAAa;MACXjB,MAAM,CAACuB,KAAP,CAAa,yBAAb;MACA;IACD,CAHD,MAGO;MACL7B,qBAAqB,CAACuB,CAAC,CAACO,KAAF,CAAQ,KAAR,CAAD,CAArB;MACA1B,gBAAgB,CAAC,IAAD,CAAhB;IACD;EACF,CAhBD;;EAkBA,oBACE;IAAA,wBACE;MAAA;MAAA;MAAA;IAAA,QADF,eAEE;MACE,KAAK,EAAE;QACL2B,UAAU,EAAE;MADP,CADT;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAFF,eASE;MAAA;MAAA;MAAA;IAAA,QATF,EAUG,CAAC5B,UAAD,gBACC;MAAK,KAAK,EAAC,8BAAX;MAAA,wBACE;QAAO,OAAO,EAAC,UAAf;QAAA,uBACE;UACE,KAAK,EAAC,YADR;UAEE,EAAE,EAAC,UAFL;UAGE,WAAW,EAAC,0BAHd;UAIE,IAAI,EAAC,MAJP;UAKE,KAAK,EAAEF,QALT;UAME,QAAQ,EAAG+B,CAAD,IAAO9B,cAAc,CAAC8B,CAAC,CAACC,MAAF,CAASC,KAAV;QANjC;UAAA;UAAA;UAAA;QAAA;MADF;QAAA;QAAA;QAAA;MAAA,QADF,eAYE;QAAQ,KAAK,EAAC,YAAd;QAA2B,IAAI,EAAC,QAAhC;QAAyC,OAAO,EAAExB,cAAlD;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAZF;IAAA;MAAA;MAAA;MAAA;IAAA,QADD,gBAkBC,QAAC,YAAD;MAAc,eAAe,EAAEX;IAA/B;MAAA;MAAA;MAAA;IAAA,QA5BJ;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AAiCD;;GA3DQD,O;;KAAAA,O;AA6DT,eAAeA,OAAf"},"metadata":{},"sourceType":"module"}